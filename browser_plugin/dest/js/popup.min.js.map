{"version":3,"sources":["popup.min.js"],"names":["window","e","n","t","o","setTimeout","console","k","v","r","keyPath","get","set","$locales","$","$locale","indexedDB","$db_info_disabled","$db_info_ignore_name","$db_info_ignore_description","$db_info_ignore_link","result","createObjectStore","$db_info_fraud_name","$db_info_fraud_description","transaction","oncomplete","$db_info_not_analyzed","$db_info_successful_name","$db_info_successful_description","$db_info_successfull_trustmark","$db_info_successful_link","$db_info_very_failed","$db_info_working","$disabled_plugin","index","browser","$db_info_above_avg","$db_info_high","$db_info_very_high","$db_info_disabled_slider","$db_info_fraud","document","active","lastFocusedWindow","$db_info_maybe_fraud","$db_info_not_checked","$db_info_successful","$db_info_successful_listing","clientID","client_id","$db_info_low","localStorage","$db_info_below_avg","disabled_time","Date","$indicator_icon","disableSwitch","url","$tabs","optional_params","body","JSON","site_baseURL","found","blacklist","$db_info_fraud_link","auth_clinetId","disable_offset","removeItem","i","whitelist","startsWith","URL","hostname","replace","value","j","$info","ignorelist","addClass","whitelist_type","html","removeClass","json","$db_info_very_low","parse","data"],"mappings":"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","file":"popup.min.js","sourcesContent":["// #############################################################################\n// HELPERS\n\n// Detect and return browser api\n\nwindow.browser = (function () {\n  return window.msBrowser ||\n    window.browser ||\n    window.chrome;\n})();\n\n// HELPER INDEXDB\n/*eslint-disable */\n//suppress all warnings between comments\n!function(){function e(t,o){return n?void(n.transaction(\"s\").objectStore(\"s\").get(t).onsuccess=function(e){var t=e.target.result&&e.target.result.v||null;o(t)}):void setTimeout(function(){e(t,o)},100)}var t=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;if(!t)return void console.error(\"indexDB not supported\");var n,o={k:\"\",v:\"\"},r=t.open(\"d2\",1);r.onsuccess=function(e){n=this.result},r.onerror=function(e){console.error(\"indexedDB request error\"),console.log(e)},r.onupgradeneeded=function(e){n=null;var t=e.target.result.createObjectStore(\"s\",{keyPath:\"k\"});t.transaction.oncomplete=function(e){n=e.target.db}},window.ldb={get:e,set:function(e,t){o.k=e,o.v=t,n.transaction(\"s\",\"readwrite\").objectStore(\"s\").put(o)}}}();\n/* eslint-enable */\n\n// #############################################################################\n// LOCALES\n\nconst $locales = $(\"[data-locales]\");\n\n$locales.each(function (index) {\n  const $locale = $locales.eq(index);\n\n  $locale.html(\n    window.browser.i18n.getMessage($locale.data(\"locales\"))\n  );\n});\n\n// #############################################################################\n// POPUP\n\nconst $db_info_disabled = $(\"[data-db-info=\\\"disabled\\\"]\");\nconst $db_info_disabled_slider = $(\"[data-db-info=\\\"disabled-slider\\\"]\");\nconst $db_info_ignore_name = $(\"#popupInfoIgnoreName\");\nconst $db_info_ignore_description = $(\"#popupInfoIgnoreDescription\");\nconst $db_info_ignore_link = $(\"#popupInfoIgnoreLink\");\nconst $db_info_fraud = $(\"[data-db-info=\\\"fraud\\\"]\");\nconst $db_info_fraud_name = $(\"#popupInfoFraudName\");\nconst $db_info_fraud_description = $(\"#popupInfoFraudDescription\");\nconst $db_info_fraud_link = $(\"#popupInfoFraudLink\");\nconst $db_info_maybe_fraud = $(\"[data-db-info=\\\"maybe-fraud\\\"]\");\nconst $db_info_not_analyzed = $(\"[data-db-info=\\\"not-analyzed\\\"]\");\nconst $db_info_not_checked = $(\"[data-db-info=\\\"not-checked\\\"]\");\nconst $db_info_successful = $(\"[data-db-info=\\\"successful\\\"]\");\nconst $db_info_successful_listing = $(\"[data-db-info=\\\"successful-listing\\\"]\");\n\nconst $db_info_successful_name = $(\"#popupInfoSuccessfulName\");\nconst $db_info_successful_description = $(\"#popupInfoSuccesfulDescription\");\nconst $db_info_successfull_trustmark = $(\"[data-db-info=\\\"successful-trustmark\\\"]\");\nconst $db_info_successful_link = $(\"#popupInfoSuccesfulLink\");\nconst $db_info_very_failed = $(\"[data-db-info=\\\"failed\\\"]\");\nconst $db_info_working = $(\"[data-db-info=\\\"working\\\"]\");\nconst $disabled_plugin = $(\"[data-locales=\\\"disableText\\\"]\");\n\nconst $db_info_very_low = $(\"[data-db-info=\\\"very-low\\\"]\");\nconst $db_info_low = $(\"[data-db-info=\\\"low\\\"]\");\nconst $db_info_below_avg = $(\"[data-db-info=\\\"below-avg\\\"]\");\nconst $db_info_above_avg = $(\"[data-db-info=\\\"above-avg\\\"]\");\nconst $db_info_high = $(\"[data-db-info=\\\"high\\\"]\");\nconst $db_info_very_high = $(\"[data-db-info=\\\"very-high\\\"]\");\n\nconst $info = $(\"[data-info]\");\n\nconst $indicator_icon = $(\"[data-indicator-icon]\");\n\nconst disableSwitch = document.getElementById(\"disableSwitch\");\n\nwindow.browser.tabs.query({\n  active: true,\n  lastFocusedWindow: true,\n}, function ($tabs) {\n  var url = $tabs[0].url;\n  var client_id = window.localStorage.getItem(\"client_id\");\n  const optional_params = {\n    method: \"POST\",\n    body: JSON.stringify({ site_baseURL: url, clientID: client_id }),\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    auth_clinetId: 1,\n  };\n\n  const disabled_time = localStorage.getItem(\"disabled_time\");\n  const disable_offset = (15 * 60 * 1000);\n\n  // CHECK IF PLUGIN IS TEMPORARLY DISABLED\n  if (disabled_time == null || disabled_time < (Date.now() - disable_offset)) {\n    // IF NOT DISABLED CHECK IF DATE NEEDS TO BE DELETED IF YES DELETE IT\n    if (disabled_time != null && disabled_time > disable_offset) {\n      localStorage.removeItem(\"disable_time\");\n    }\n    if (!url.startsWith(\"chrome://\") && !url.startsWith(\"about://\")) {\n      // CLEAN UP URL\n      url = new URL(url);\n      url = url.hostname;\n      url = url.replace(\"www.\", \"\");\n      var found = false;\n      // CHECK IF SHOP IS FAKE\n      window.ldb.get(\"blacklist\", function (value) {\n        const blacklist = JSON.parse(value);\n        for (var j = 0; j < blacklist.length && found === false; j++) {\n          if (found === false && blacklist[j].site_baseURL === url) {\n            $db_info_working.addClass(\"hidden\");\n            found = true;\n            $db_info_fraud_link.append(\"<a target='_blank' href=\\\"\" + blacklist[j][\"site-information-link\"] + \"\\\"> Details zum Fake - Shop</a>\");\n            $db_info_fraud_name.html(\"Gefunden in: \").append(blacklist[j][\"blacklist-name\"]);\n            $db_info_fraud_description.append(blacklist[j][\"blacklist-description\"]);\n            $db_info_fraud.removeClass(\"hidden\");\n            $indicator_icon.addClass(\"indicator-fraud\");\n          }\n        }\n        // CHECK IF SHOP IS IN WHITELIST\n        window.ldb.get(\"whitelist\", function (value) {\n          const whitelist = JSON.parse(value);\n          for (var i = 0; i < whitelist.length && found === false; i++) {\n            if (found === false && whitelist[i].site_baseURL === url) {\n              $db_info_working.addClass(\"hidden\");\n              found = true;\n              if (whitelist[i].whitelist_type === \"trustmark\") {\n                $db_info_successful_name.html(\"Dieser Shop ist Träger des Gütezeichens \");\n                $db_info_successfull_trustmark.removeClass(\"hidden\");\n              } else {\n                $db_info_successful_name.html(\"Dieser Shop ist auf \");\n              }\n              $db_info_successful_link.append(\"<a target='_blank' href=\\\"\" + whitelist[i][\"whitelist-url\"] + \"\\\"> Details zur Quelle</a>\");\n              $db_info_successful_name.append(whitelist[i][\"whitelist-name\"]);\n              if(whitelist[i].whitelist_type === \"secure_listing\"){\n                $db_info_successful_name.append(\" angeführt.\");\n                $db_info_successful_listing.removeClass(\"hidden\");\n              }\n              $db_info_successful_description.text(whitelist[i][\"whitelist-description\"]);\n              if (whitelist[i].whitelist_type === \"trustmark\") {\n                $db_info_successful_description.append(\"<br><br>Sie befinden sich auf einem vertrauenswürdigen Onlineshop.\")\n\n              }\n              $db_info_successful.removeClass(\"hidden\");\n              $indicator_icon.addClass(\"indicator-successful\");\n              $info.removeClass(\"hidden\");\n            }\n          }\n          // CHECK IF SHOP IS IN IGNORELIST ELSE MAKE ANALYZE CALL\n          window.ldb.get(\"ignorelist\", function (value) {\n            const ignorelist = JSON.parse(value);\n            for (var i = 0; i < ignorelist.length && found === false; i++) {\n              if (found === false && ignorelist[i].site_baseURL === url) {\n                found = true;\n                $db_info_ignore_link.append(\"<a target='_blank' href=\\\"\" + ignorelist[i][\"ignorelist-url\"] + \"\\\"> Details zur Quelle</a>\");\n                $db_info_ignore_name.html(\"Gelistet durch: \").append(ignorelist[i][\"ignorelist-name\"]);\n                $db_info_ignore_name.append(ignorelist[i][\"ignorelist-description\"]);\n\n                $db_info_working.addClass(\"hidden\");\n                $db_info_disabled.removeClass(\"hidden\");\n                $indicator_icon.addClass(\"indicator-ignorelist\");\n                $info.addClass(\"hidden\");\n              }\n            }\n            if (found === false) {\n              // If not found in cache make a REST call\n              fetch(\"https://mal2.ait.ac.at/fake-shop-detector/api/1.1/analyze\", optional_params)\n                .then(data => data.json()).then(function (json) {\n                  $db_info_working.addClass(\"hidden\");\n                  if (json.status === 400) {\n                    $db_info_very_failed.removeClass(\"hidden\");\n                    // $db_info_disabled.removeClass(\"hidden\");\n                    $indicator_icon.addClass(\"indicator-not-analyzed\");\n                    $info.addClass(\"hidden\");\n                  } else if (json.risk_score === \"very low\" && json.processor === \"mal2_ai\") {\n                    $db_info_very_low.removeClass(\"hidden\");\n                    $indicator_icon.addClass(\"indicator-successful\");\n                  } else if (json.risk_score === \"low\" && json.processor === \"mal2_ai\") {\n                    $db_info_low.removeClass(\"hidden\");\n                    $indicator_icon.addClass(\"indicator-medium\");\n                  } else if (json.risk_score === \"below average\" && json.processor === \"mal2_ai\") {\n                    $db_info_below_avg.removeClass(\"hidden\");\n                    $indicator_icon.addClass(\"indicator-medium\");\n                  } else if (json.risk_score === \"above average\" && json.processor === \"mal2_ai\") {\n                    $db_info_above_avg.removeClass(\"hidden\");\n                    $indicator_icon.addClass(\"indicator-medium\");\n                  } else if (json.risk_score === \"high\" && json.processor === \"mal2_ai\") {\n                    $db_info_high.removeClass(\"hidden\");\n                    $indicator_icon.addClass(\"indicator-medium\");\n                  } else if (json.risk_score === \"very high\" && json.processor === \"mal2_ai\") {\n                    $db_info_very_high.removeClass(\"hidden\");\n                    $indicator_icon.addClass(\"indicator-fraud\");\n                  } else if (json.processor === \"whitelist\") {\n                    if (json.whitelist_type === \"trustmark\") {\n                      $db_info_successful_name.html(\"Verifiziert durch: \");\n                    } else {\n                      $db_info_successful_name.html(\"Gelistet bei: \");\n                    }\n                    $db_info_successful_name.append(json[\"whitelist-name\"]);\n                    $db_info_successful_description.text(json[\"whitelist-description\"]);\n                    $db_info_successful.removeClass(\"hidden\");\n                    $indicator_icon.addClass(\"indicator-successful\");\n                    $info.removeClass(\"hidden\");\n                  } else if (json.processor === \"blacklist\") {\n                    $db_info_fraud_name.html(\"Gefunden in: \").append(json[\"blacklist-name\"]);\n                    $db_info_fraud_description.append(json[\"blacklist-description\"]);\n                    $db_info_fraud.removeClass(\"hidden\");\n                    $indicator_icon.addClass(\"indicator-fraud\");\n                  } else {\n                    $db_info_disabled.removeClass(\"hidden\");\n                    $indicator_icon.addClass(\"indicator-disabled\");\n                    $info.addClass(\"hidden\");\n                  }\n                });\n            }\n          });\n        });\n      });\n    } else {\n      $db_info_disabled.removeClass(\"hidden\");\n      $indicator_icon.addClass(\"indicator-disabled\");\n      $info.addClass(\"hidden\");\n    }\n  } else {\n    // IF PLUGIN IS DISABLED SET SWITCH TO FALSE\n    $db_info_working.addClass(\"hidden\");\n    $disabled_plugin.removeClass(\"hidden\");\n    $db_info_disabled_slider.removeClass(\"hidden\");\n    disableSwitch.checked = false;\n  }\n});\n\n// #############################################################################\n// Activate / Deactivate Plugin\n\ndisableSwitch.onclick = function (element) {\n  if (disableSwitch.checked === false) {\n    localStorage.setItem(\"disabled_time\", Date.now());\n    disableSwitch.checked = false;\n  } else {\n    localStorage.removeItem(\"disabled_time\");\n  }\n  // Notify BACKGROUND.js if disabled status has changed, reload Popup after that\n  window.browser.runtime.sendMessage({}, function () {\n    window.location.reload(true);\n  });\n  window.location.reload(true);\n};\n"]}